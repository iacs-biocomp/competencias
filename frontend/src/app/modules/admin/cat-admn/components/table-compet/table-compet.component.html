<div class="tablewrapper">
	<h1 class="title">Lista de todas las categorias competenciales</h1>
	<table aria-label="Lista categorias competenciales" class="table table-hover">
		<thead>
			<tr>
				<th scope="col">ID</th>
				<th scope="col">DESCRIPCIÓN</th>
				<th scope="col">EDITAR/ELIMINAR</th>
				<th scope="col" style="max-width: 1rem">
					<button class="btn btn-primary" (click)="newEmptyCatComp()">
						<span class="material-icons" title="Añadir categoría competencial"> add </span>
					</button>
				</th>
			</tr>
		</thead>

		<tbody>
			<tr *ngFor="let cComp of cCompToAdd">
				<td>
					<input type="text" class="form-control" [(ngModel)]="cComp.id" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="cComp.description" />
				</td>
				<td>
					<div class="btn btn-danger" (click)="deleteCatCompToAdd(cComp)">
						<span class="material-icons"> delete </span>
					</div>
					<div
						class="btn btn-success"
						(click)="persistCatComp(cComp)"
						*ngIf="cComp.description !== '' && cComp.id !== ''"
					>
						<span class="material-icons"> add </span>
					</div>
				</td>
			</tr>

			<tr *ngFor="let catComp of catComps">
				<td>{{ catComp.id }}</td>
				<td *ngIf="!catComp.isInEditMode">{{ catComp.description }}</td>
				<td *ngIf="catComp.isInEditMode">
					<input type="text" class="form-control" [(ngModel)]="catComp.description" />
				</td>

				<td>
					<div class="btn btn-success" (click)="editingCatComp(catComp, true, false)">
						<span class="material-icons"> edit </span>
					</div>
					<div
						class="btn btn-primary"
						*ngIf="catComp.isInEditMode"
						(click)="editingCatComp(catComp, false, true)"
					>
						<span class="material-icons"> done </span>
					</div>
					<div *ngIf="catComp.catContr!.length === 0" class="btn btn-danger" (click)="deleteCatComp(catComp)">
						<span class="material-icons"> delete </span>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>
