<div class="tablewrapper">
	<h1 class="title">Lista de todos los niveles</h1>
	<table aria-label="Listado de todos los niveles existentes" class="table table-hover">
		<thead>
			<tr>
				<th scope="col">CÓDIGO</th>
				<th scope="col">VALOR</th>
				<th scope="col">RANGO MÍNIMO</th>
				<th scope="col">RANGO MÁXIMO</th>
				<th scope="col">EDITAR/ELIMINAR</th>
				<th scope="col" style="max-width: 1rem">
					<button class="btn btn-primary" (click)="newEmptyNivel()">
						<span class="material-icons" title="Añadir nivel"> add </span>
					</button>
				</th>
			</tr>
		</thead>

		<tbody>
			<tr *ngFor="let nivelToAdd of nivelesToAdd">
				<td>
					<input type="text" class="form-control" [(ngModel)]="nivelToAdd.code" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="nivelToAdd.valor" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="nivelToAdd.minRango" />
				</td>
				<td>
					<input type="text" class="form-control" [(ngModel)]="nivelToAdd.maxRango" />
				</td>
				<td>
					<div class="btn btn-danger" (click)="deleteNivToAdd(nivelToAdd)">
						<span class="material-icons"> delete </span>
					</div>
					<div
						class="btn btn-success"
						(click)="persistNiv(nivelToAdd)"
						*ngIf="nivelToAdd.valor !== 0 && nivelToAdd.code !== ''"
					>
						<span class="material-icons"> add </span>
					</div>
				</td>
			</tr>

			<tr *ngFor="let nivel of niveles">
				<td>{{ nivel.code }}</td>
				<td *ngIf="!nivel.editing">{{ nivel.valor }}</td>
				<td *ngIf="nivel.editing">
					<input type="text" class="form-control" [(ngModel)]="nivel.valor" />
				</td>
				<td *ngIf="!nivel.editing">{{ nivel.minRango }}</td>
				<td *ngIf="nivel.editing">
					<input type="text" class="form-control" [(ngModel)]="nivel.minRango" />
				</td>
				<td *ngIf="!nivel.editing">{{ nivel.maxRango }}</td>
				<td *ngIf="nivel.editing">
					<input type="text" class="form-control" [(ngModel)]="nivel.maxRango" />
				</td>
				<td>
					<div class="btn btn-success" (click)="editingNivel(nivel, true, false)">
						<span class="material-icons"> edit </span>
					</div>
					<div class="btn btn-primary" *ngIf="nivel.editing" (click)="editingNivel(nivel, false, true)">
						<span class="material-icons"> done </span>
					</div>
					<div class="btn btn-danger" (click)="deleteNivel(nivel)">
						<span class="material-icons"> delete </span>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>
